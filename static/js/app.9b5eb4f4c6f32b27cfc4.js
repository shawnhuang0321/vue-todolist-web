webpackJsonp([1],{NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("7+uW"),s=o("mtWM"),i=o.n(s),n=o("Rf8U"),c=o.n(n),d=o("Dd8w"),r=o.n(d),l={name:"TodoItem",props:["todo"],data:function(){return{}},methods:{changeStatus:function(t,e){var o=this,a="http://localhost:3000/todos/"+o.todo.id,s=r()({},o.todo);s[t]=e,this.$http.put(a,s).then(function(t){o.$emit("updateData")})},editTodo:function(){this.$emit("editTodoItem",this.todo.id)},deleteTodo:function(){var t=this,e=this,o="http://localhost:3000/todos/"+e.todo.id;this.$http.delete(o).then(function(o){e.$emit("deleteTodoItem",t.todo.id),e.$emit("updateData")})},changeCompleted:function(){this.$emit("updateData")}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"container todo-header edit-todo-item mt-4",class:{"item-stared":t.todo.stared}},[o("div",{staticClass:"d-flex align-items-center position-relative"},[t._m(0),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],staticClass:"todo-check",attrs:{type:"checkbox",id:"toto-check"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:[function(e){var o=t.todo.completed,a=e.target,s=!!a.checked;if(Array.isArray(o)){var i=t._i(o,null);a.checked?i<0&&t.$set(t.todo,"completed",o.concat([null])):i>-1&&t.$set(t.todo,"completed",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.todo,"completed",s)},function(e){t.changeStatus("completed",t.todo.completed)}]}}),t._v(" "),o("label",{staticClass:"todo-title ml-3",class:{completed:t.todo.completed}},[t._v(t._s(t.todo.message))]),t._v(" "),o("div",{staticClass:"d-flex todo-header-icon"},[o("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeStatus("stared",!t.todo.stared)}}},[t.todo.stared?o("i",{staticClass:"fas fa-star stared"}):o("i",{staticClass:"far fa-star"})]),t._v(" "),o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editTodo(e)}}},[o("i",{staticClass:"fas fa-pencil-alt ml-3"})]),t._v(" "),o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteTodo(e)}}},[o("i",{staticClass:"fas fa-times ml-3"})])])]),t._v(" "),o("div",{staticClass:"todo-footer"},[o("i",{staticClass:"far fa-calendar-alt fz-24px"}),t._v(" "),o("span",[t._v(t._s(t.todo.startDate)+" - "+t._s(t.todo.endDate))]),t._v(" "),""!==t.todo.comments?o("i",{staticClass:"fas fa-comment-dots fz-24px ml-3"}):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"handle"},[e("i",{staticClass:"fas fa-ellipsis-v"})])}]},f=o("VU/8")(l,u,!1,null,null,null).exports,m={props:["todo"],name:"EditTodoItem",data:function(){return{cacheTodo:{},alertText:!1,isNew:!1}},methods:{updateTodo:function(){var t=Math.floor(Date.now()),e=this,o=r()({},e.cacheTodo);if(o.message)if(e.alertText=!1,this.isNew){o.stared=!1,o.completed=!1,o.comments=o.comments||"",o.timestamp=t,this.$http.post("http://localhost:3000/todos",o).then(function(t){e.$emit("closeEditTodo"),e.$emit("updateData")})}else{var a="http://localhost:3000/todos/"+e.todo.id;this.$http.put(a,o).then(function(t){e.$emit("closeEditTodo"),e.$emit("updateData")})}else e.alertText=!0},closeTodo:function(){this.$emit("closeEditTodo")}},watch:{todo:function(){this.cacheTodo=r()({},this.todo)}},created:function(){this.todo?this.cacheTodo=r()({},this.todo):this.isNew=!0}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"container mt-4 todo-header edit-todo-item"},[o("div",{staticClass:"text-center"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.message,expression:"cacheTodo.message"}],staticClass:"form-control mx-3",attrs:{type:"text",placeholder:"Type something",autofocus:""},domProps:{value:t.cacheTodo.message},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"message",e.target.value)}}}),t._v(" "),t.alertText?o("h4",{staticClass:"text-left text-danger",staticStyle:{margin:"10px 0 0 16px",padding:"5px 5px"}},[t._v("請輸入訊息")]):t._e()])]),t._v(" "),o("div",{staticClass:"container edit-todo-item mt-1"},[o("div",{staticClass:"todo-row px-4 py-2"},[t._m(0),t._v(" "),o("div",[o("label",{staticClass:"fz-24px",attrs:{for:""}},[t._v("Deadline")]),t._v(" "),o("div",{staticClass:"form-inline"},[t._v("\n            From "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.startDate,expression:"cacheTodo.startDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.cacheTodo.startDate},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"startDate",e.target.value)}}}),t._v("\n            To "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.endDate,expression:"cacheTodo.endDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.cacheTodo.endDate},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"endDate",e.target.value)}}})])])]),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"todo-row px-4 py-2"},[t._m(2),t._v(" "),o("div",{staticClass:"w-100"},[o("label",{staticClass:"fz-24px",attrs:{for:""}},[t._v("Comment")]),t._v(" "),o("div",{staticClass:"form-inline"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.comments,expression:"cacheTodo.comments"}],staticClass:"form-control w-100 border-0",attrs:{rows:"5",id:""},domProps:{value:t.cacheTodo.comments},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"comments",e.target.value)}}})])])]),t._v(" "),o("div",{staticClass:"d-flex pt-2"},[o("button",{staticClass:"btn text-danger w-50 btn-lg p-3",on:{click:t.closeTodo}},[o("i",{staticClass:"fas fa-times"}),t._v(" Cancel\n        ")]),t._v(" "),o("button",{staticClass:"btn btn-primary w-50 btn-lg p-3",on:{click:t.updateTodo}},[o("i",{staticClass:"fas fa-plus"}),t._v(" Update Task\n        ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mx-12px fz-24px"},[e("i",{staticClass:"far fa-calendar-alt"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"todo-row px-4 py-2"},[e("div",{staticClass:"mx-12px fz-24px"},[e("i",{staticClass:"fas fa-file"})]),this._v(" "),e("div",[e("label",{staticClass:"fz-24px",attrs:{for:""}},[this._v("File")]),this._v(" "),e("div",{staticClass:"form-inline"},[e("a",{staticClass:"fz-24px",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-plus-square",staticStyle:{color:"#C8C8C8"}})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mx-12px fz-24px"},[e("i",{staticClass:"far fa-comment-dots"})])}]},h=o("VU/8")(m,p,!1,null,null,null).exports,v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"icons d-flex justify-content-center"},[e("a",{staticClass:"fab fa-facebook-square",attrs:{href:"https://www.facebook.com/profile.php?id=100000185693039",target:"_blank",title:"Facebook"}}),this._v(" "),e("a",{staticClass:"fab fa-instagram",attrs:{href:"#",target:"_blank",title:"Instagram"}}),this._v(" "),e("a",{staticClass:"fab fa-github-square",attrs:{href:"https://github.com/shawnhuang0321/about-me",target:"_blank",title:"Github"}})]),this._v(" "),e("h4",{staticClass:"text-center mt-3 mb-3"},[this._v("Copyright © Po-Sheng Huang All rights reserved")])])}]};var _=o("VU/8")({name:"Footer"},v,!1,function(t){o("twfC")},"data-v-9d2c94aa",null).exports,T=o("DAYN"),g={name:"App",components:{draggable:o.n(T).a,TodoItem:f,EditTodoItem:h,Footer:_},data:function(){return{todos:[],isNewTodo:!1,currenStatus:"all",currentTodo:{},sortData:[]}},methods:{closeEdit:function(){this.isNewTodo=!1,this.currentTodo={}},getData:function(){var t=this,e=[];t.todos=[],this.$http.get("http://localhost:3000/todos").then(function(o){return e=o.data,t.$http.get("http://localhost:3000/sort").then(function(o){var a=o.data.sort;a?(a.forEach(function(o,a){var s=e.find(function(t){return t.id===o});t.todos.push(s)}),e.forEach(function(e){a.some(function(t){return t===e.id})||t.todos.push(e)})):t.todos=e})})},editTodo:function(t){this.currentTodo=this.todos.find(function(e){return e.id===t})},deleteTodo:function(t){var e=this.todos.map(function(t){return t.id});this.todos.splice(e.indexOf(t),1),this.dragItem()},dragItem:function(){var t=this.todos.map(function(t){return t.id});this.$http.post("http://localhost:3000/sort",{sort:t}).then(function(t){})}},computed:{filterTodos:function(){var t=this;return"progress"==t.currenStatus?t.todos.filter(function(t){return 0==t.completed}):"done"==t.currenStatus?t.todos.filter(function(t){return 1==t.completed}):t.todos}},created:function(){this.getData()}},C={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.closeEdit(e):null}}},[o("div",{staticClass:"bg-primary"},[o("div",{staticClass:"container d-flex justify-content-between todo-nav"},[o("a",{class:{active:"all"==t.currenStatus},attrs:{href:"#"},on:{click:function(e){t.currenStatus="all"}}},[t._v("My Tasks")]),t._v(" "),o("a",{class:{active:"progress"==t.currenStatus},attrs:{href:"#"},on:{click:function(e){t.currenStatus="progress"}}},[t._v("In Progress")]),t._v(" "),o("a",{class:{active:"done"==t.currenStatus},attrs:{href:"#"},on:{click:function(e){t.currenStatus="done"}}},[t._v("Completed")])])]),t._v(" "),t.isNewTodo?t._e():o("div",{staticClass:"container my-4"},[o("div",{staticClass:"position-relative"},[o("i",{staticClass:"fas fa-plus fa-lg position-absolute text-primary",staticStyle:{left:"1rem",top:"1.15rem"}}),t._v(" "),o("input",{staticClass:"form-control form-control-lg pl-5",attrs:{type:"text",id:"",placeholder:"Type something"},on:{click:function(e){t.isNewTodo=!0}}})])]),t._v(" "),t.isNewTodo?o("edit-todo-item",{on:{closeEditTodo:t.closeEdit,updateData:t.getData}}):t._e(),t._v(" "),o("draggable",{attrs:{options:{handle:".handle"}},on:{end:t.dragItem},model:{value:t.todos,callback:function(e){t.todos=e},expression:"todos"}},t._l(t.filterTodos,function(e){return o("div",{key:e.id,attrs:{todo:e}},[t.currentTodo.id!==e.id?o("todo-item",{attrs:{todo:e},on:{updateData:t.getData,editTodoItem:t.editTodo,deleteTodoItem:t.deleteTodo}}):t._e(),t._v(" "),t.currentTodo.id===e.id?o("edit-todo-item",{attrs:{todo:t.currentTodo},on:{closeEditTodo:t.closeEdit,updateData:t.getData}}):t._e()],1)})),t._v(" "),o("Footer")],1)},staticRenderFns:[]};var x=o("VU/8")(g,C,!1,function(t){o("sxS5")},null,null).exports;o("pc4J");a.a.use(c.a,i.a),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:x},template:"<App/>"})},pc4J:function(t,e){},sxS5:function(t,e){},twfC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9b5eb4f4c6f32b27cfc4.js.map